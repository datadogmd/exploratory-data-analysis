levels(hpcdata[1,3])[hpcdata[1,3]]
hpcdata[1,3]
str(hpcdata)
with(hpcdata, plot(datetime, Global_active_power))
?plot
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = NULL)
)
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = NULL)))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = NULL))
with(hpcdata, plot(datetime, Voltage, type = "l"))
?mfrow
colNames
?lines
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering"))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
?legend
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), col = c("black", "red", "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering"))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"))
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = NULL))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering"))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"))
with(hpcdata, hist(datetime, Global_active_power, type = "l"))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = NULL))
?plot
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = ""))
with(hpcdata, histogram(Global_active_power, col = "red"))
with(hpcdata, hist(Global_active_power, col = "red"))
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.8)
?png
png(filename = "plot1.png", height = 480, width = 480)
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power"))
getwd()
setwd("/home/mdus/datadogmd/exploratory-data-analysis/")
png(filename = "plot1.png", height = 480, width = 480)
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power"))
dev.off()
png(filename = "plot1.png", height = 480, width = 480)
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power", xlab = "Global Active Power (kilowatts)"))
dev.off()
png(filename = "plot2.png", height = 480, width = 480)
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = ""))
dev.off()
png(filename = "plot3.png", height = 480, width = 480)
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.8)
dev.off()
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("1/3/2007", readLines(filename))[1]
last - first
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("1/3/2007", readLines(filename))[1]
last - first
setwd("/home/mdus/datadogmd/exploratory-data-analysis/")
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- "/home/mdus/coursera/data/"
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("1/3/2007", readLines(filename))[1]
last - first
filename
paste(dataDir, datafilename, sep = "")
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("1/3/2007", readLines(filename))[1]
last - first
first
last
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
last - first
ndata <- last - first - 1
ndata
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first - 1
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
head(hpcdata)
tail(hpcdata)
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
head(hpcdata)
tail(hpcdata)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Column names:
#
# [1] "Date"                  "Time"                  "Global_active_power"   "Global_reactive_power" "Voltage"
# [6] "Global_intensity"      "Sub_metering_1"        "Sub_metering_2"        "Sub_metering_3"
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power", xlab = "Global Active Power (kilowatts)"))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = ""))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.8)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = NULL))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering"))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"))
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"))
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.8)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.2)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.5)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
?legend
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", box.lwd = NA, c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.5)
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", box.lwd = NA, c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.5)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
getwd()
?file.info
rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if(!file.info(dataDir)$isdir) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
dataDir
!file.info(dataDir)$isdir
file.info(dataDir)
file.exists(dataDir)
if(!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
(!file.exists(dataDir))
rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
file.exists(dataDir)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, method = "curl", exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot1
png(filename = "plot1.png", height = 480, width = 480)
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power", xlab = "Global Active Power (kilowatts)"))
dev.off()
file.exists(dataDir)
unzip(zipfilename, list = TRUE)$Name
datafilename <- unzip(zipfilename, list = TRUE)$Name
dataDir
unzip(zipfilename, method = "curl", exdir = dataDir, unzip = "internal")
unzip(zipfilename, exdir = dataDir, unzip = "internal")
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot1
png(filename = "plot1.png", height = 480, width = 480)
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power", xlab = "Global Active Power (kilowatts)"))
dev.off()
ls()
dataDir
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
zipfilename
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot1
png(filename = "plot1.png", height = 480, width = 480)
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power", xlab = "Global Active Power (kilowatts)"))
dev.off()
zipfilename
file.remove(zipfilename)
datafilename
file.remove(datafilename)
filename
file.remove(filename)
?unlink
dataDir
unlink(dataDir)
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
# Script for reading data and generating plots for Coursera: Exploratory Data Analysis Week1 project
# Set up directories and read data
# rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot4
png(filename = "plot4.png", height = 480, width = 480)
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.8)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
dev.off()
# Remove variables created by Plot1.R
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
# Remove directory and files created by Plot1.R
file.remove(zipfilename)
file.remove(filename)
# unlink(dataDir)
# Script for reading data and generating plots for Coursera: Exploratory Data Analysis Week1 project
# Set up directories and read data
# rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot4
png(filename = "plot4.png", height = 480, width = 480)
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.8)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
dev.off()
# Remove directory and files created by Plot1.R
file.remove(zipfilename)
file.remove(filename)
# unlink(dataDir)
# Remove variables created by Plot1.R
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
# Script for reading data and generating plots for Coursera: Exploratory Data Analysis Week1 project
# Set up directories and read data
# rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot3
png(filename = "plot3.png", height = 480, width = 480)
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), cex = 0.8)
dev.off()
# Remove directory and files created by Plot1.R
file.remove(zipfilename)
file.remove(filename)
# unlink(dataDir)
# Remove variables created by Plot1.R
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
# Script for reading data and generating plots for Coursera: Exploratory Data Analysis Week1 project
# Set up directories and read data
# rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot2
png(filename = "plot2.png", height = 480, width = 480)
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power (kilowatts)", xlab = ""))
dev.off()
# Remove directory and files created by Plot1.R
file.remove(zipfilename)
file.remove(filename)
# unlink(dataDir)
# Remove variables created by Plot1.R
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
# Script for reading data and generating plots for Coursera: Exploratory Data Analysis Week1 project
# Set up directories and read data
# rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot1
png(filename = "plot1.png", height = 480, width = 480)
with(hpcdata, hist(Global_active_power, col = "red", main = "Global Active Power", xlab = "Global Active Power (kilowatts)"))
dev.off()
# Remove directory and files created by Plot1.R
file.remove(zipfilename)
file.remove(filename)
# unlink(dataDir)
# Remove variables created by Plot1.R
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
# Script for reading data and generating plots for Coursera: Exploratory Data Analysis Week1 project
# Set up directories and read data
# rm(list = ls())
localWorkingDirectory <- getwd()
dataURL <- "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip"
dataDir <- paste(localWorkingDirectory, "/hpc/", sep = "")
if (!file.exists(dataDir)) dir.create(dataDir)
zipfilename <-  paste(dataDir, "hpcdata.zip", sep = "")
download.file(dataURL, zipfilename)
# Get file name of compressed file
datafilename <- unzip(zipfilename, list = TRUE)$Name
# Un-zip compressed file in dataDir
unzip(zipfilename, exdir = dataDir, unzip = "internal")
# Read household_power_consumption data
filename <- paste(dataDir, datafilename, sep = "")
colNames <-names(read.table(filename, nrow = 1, header = TRUE, sep = ";"))
# Identify first row to be read "first" and the number of rows to be read "ndata"
first <- grep("1/2/2007", readLines(filename))[1]
last <- grep("3/2/2007", readLines(filename))[1]
ndata <- last - first
hpcdata <- read.table(filename, header = FALSE, na.strings = "?", col.names = colNames,
sep = ";", skip = first-1, nrow = ndata)
# Convert Date and Time variables to POSIXlt variable datetime.
hpcdata$datetime <- strptime(paste(as.character(hpcdata$Date), as.character(hpcdata$Time)), "%d/%m/%Y %H:%M:%S")
# Plot4
png(filename = "plot4.png", height = 480, width = 480)
par(mfrow = c(2,2))
with(hpcdata, plot(datetime, Global_active_power, type = "l", ylab = "Global Active Power", xlab = ""))
with(hpcdata, plot(datetime, Voltage, type = "l"))
with(hpcdata, plot(datetime, Sub_metering_1, type = "l", ylab = "Energy sub metering", xlab = ""))
with(hpcdata, lines(datetime, Sub_metering_2, col = "red"))
with(hpcdata, lines(datetime, Sub_metering_3, col = "blue"))
legend("topright", c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), lty = 1, col = c("black", "red", "blue"), bty = "n", cex = 0.8)
with(hpcdata, plot(datetime, Global_reactive_power, type = "l"))
dev.off()
# Remove directory and files created by Plot4.R
file.remove(zipfilename)
file.remove(filename)
# unlink(dataDir)
# Remove variables created by Plot4.R
rm("colNames", "dataDir", "datafilename", "dataURL", "filename", "first", "hpcdata", "last",
"localWorkingDirectory", "ndata", "zipfilename")
